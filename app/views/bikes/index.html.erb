
<div class="container mt-4"  >
  <h1>All Availables Bikes</h1>

  <%= form_tag bikes_path, method: :get do %>
  <%= text_field_tag :query,
    params[:query],
    class: "form-control shadow-sm mt-4",
    placeholder: "Find a Bike"
  %>
  <%= submit_tag "Search", class: "btn btn-info my-3 shadow" %>
  <% end %>

  <div class>
    <div class="row d-flex">
      <div class="col-6">
        <% @bikes.each do |bike| %>
          <div class="card-product mb-3 shadow">
            <div class="mx-2">
              <% if bike.photo.attached? %>
                <%= cl_image_tag bike.photo.key, height: 190, width: 190, crop: :pad %>
              <% else %>
                <img class="pb-3" src="data:image/png;base64,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" alt="kid bike drawing">
              <% end %>
            </div>
            <div class="container d-flex justify-content-between">
              <div class="card-product-info">
                <h2 class="text-center mb-3">Brand: <%= bike.brand %></h2>
                <hr>
                <p class="mt-5"><%= bike.description %></p>
              </div>
              <div class ="d-flex flex-column align-items-end">
                <%= bike.location %>
                <i class="fa-solid fa-dollar-sign my-4"><%= bike.price_per_day %></i>
                <%= link_to 'Details', bike_path(bike), class: "btn btn-info" %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
      <div id="map" class="col-6 shadow" style="width: 50%; height: 600px;"
      data-controller="mapbox"
      data-mapbox-markers-value="<%= @markers.to_json %>"
      data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
    </div>
  </div>
</div>
